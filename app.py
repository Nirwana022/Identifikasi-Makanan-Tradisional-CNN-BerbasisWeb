from flask import Flask, render_template, request

from tensorflow.keras.models import load_model
from tensorflow.keras.preprocessing import image

app = Flask(__name__)


dic = {0 :'<p align="center"><strong><span style="color: black;">Ayam Woku </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Manado</span></strong></p><p align="left"> <p align="left" style="color: black;">Bahan-bahan : <br>-1 ekor ayam potong-potong<br>- 5 lembar daun jeruk<br>- 3 serai memarkan<br> - 3 lembar daun kunyit iris<br>- 500 ml air<br>- 1 timat potong-potong<br>- 2 daun bawang potong-potong<br>- 1 ikat kemangi petik daunnya<br>- 10 cabai rawit merah (selera)<br>Bumbu Halus:<br>-6 bawang merah<br>- 5 bawang putih<br>- 20 gr kunyit<br>- 5 butir kemiri<br>- 5 buah cabai merah besar rebus<br>Bumbu lain:<br>- 2 sdt garam<br>- 2 sdt gula pasir<br>- 1 sdt kaldu bubuk<br>- 1/2 sdt merica bubuk<br> Cara membuat:<br>- Panaskan minyak secukupnya.<br>- Tumis bumbu halus, tambahkan daun jeruk, serai, irisan daun kunyit (jika pakai).<br>- Tumis hingga matang, dan pakai api kecil saja agar tidak mudah gosong. Ciri-cirinya minyak akan terpisah sendiri dan warna bumbu lebih tua.<br>- Masukkan ayam, aduk rata hingga beberapa saat ayam setengah matang.<br>- Tuang air hingga mendidih dan tambahkan bumbu lainnya. Masak hingga ayam empuk.<br>- Sesaat sebelum diangkat masukan tomat, cabai rawit, daun bawang, dan daun kemangi. Aduk rata sebentar dan angkat.</p> ',
       1: '<p align="center"><strong><span style="color: black;"> Barongko </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Sulawesi Selatan </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - 200 gr tepung ketan  <br> - 25 gr tepung kanji  <br> - 100 ml air mendidih  <br> - 1 sendok teh garam  <br> - ½ sendok teh vanili  <br> - 850 ml santan hangat dari 1 ½ butir kelapa  <br> - 10 buah pisang raja tua dan matang (bisa diganti pisang tanduk atau pisang kepok)  <br> - Daun pisang untuk membungkus secukupnya  <br> - 350 ml santan kental dari 1 ½ butir kelapa, beri ½ sendok teh garam. <br> Cara Pengolahan : <br> - Campur tepung beras dan tepung kanji, lalu tuangi air mendidih sambil diaduk-aduk. <br> - Masukkan gula, garam, dan vanili, tuangi santan hangat, aduk sampai rata.  <br> - Lalu masak di atas api hingga setengah matang. Angkat, sisihkan.  <br> - Kupas pisang, bela 2 memanjang, lalu iris setebal ½ cm. <br> - Masukkan ke dalam adonan tepung beras, aduk hingga tercampur rata.  <br> - Ambil selembar daun pisang, taruh 2 – 3 sendok makan adonan, lalu tambahkan 2 – 3 sendok makan santan kental, bungkus dan sematkan dengan lidi.  <br> - Kukus selama 30 – 40 menit hingga matang. </p> ',
       2 : '<p align="center"><strong><span style="color: black;">Bubur Manado </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Manado </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - 500 gr beras, cuci dan tiriskan  <br> - Air secukupnya  <br> - 4 sendok teh garam  <br> - 2 buah jagung, sisir dari tongkolnya  <br> - 100 gr daun melinjo muda  <br> - 100 gr daun bayam, cuci bersih  <br> - 100 gr daun kangkung, cuci bersih  <br> - 200 gr ubi jalar, potong  <br> - 300 gr labu kuning, potong  <br> - 2 ikat kacang panjang, petik 2 cm  <br> - 50 gr daun kemangi  <br> - Garam menurut selera <br> - 1 buah tomat  <br> - 8 buah cabai merah  <br> - 4 siung bawang merah  <br> - 2 siung bawang putih  <br> - 1 sendok teh terasi. <br> Cara Pengolahan : <br> - Masukkan air 3 – 5 cm di permukaan beras yang telah dicuci bersih. <br> - Rebus hingga setengah matang.  <br> - Masukkan potongan labu kuning, jagung dan ubi jalar. <br> - Rebus kembali sampai matang.  <br> - Kemudian masukkan satu per satu sayuran ke dalam bubur. Masak terus sampai seluruhnya matang dan bubur cukup kental.  <br> - Angkat dan siap dihidangkan.  <br> - Sambal: panaskan minyak, tumis bumbu halus hingga harum. Beri gula dan garam, aduk angkat. Dihidangkan dengan ikan bakar, ikan asin goreng dan dabu-dabu lilang.</p> ',
       3 : '<p align="center"><strong><span style="color: black;"> Cakalang Pampis </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Manado </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - 1 ekor ikan cakalang (tongkol)  <br> - 5 siung bawang merah  <br> - 2 siung bawang putih  <br> - 1 ruas jahe  <br> - 15 biji cabai rawit  <br> - 5 biji cabai merah  <br> - ¼ liter minyak kelapa, untuk menumis  <br> - Garam secukupnya  <br> - Sereh secukupnya  <br> - Daun bawang secukupnya. <br> Cara Pengolahan : <br> - Ikan cakalang dibersihkan, dikukus lalu dibersihkan dari tulang-tulangnya, lalu ikannya di suwir-suwir.  <br> - Bawang merah, bawang putih, jahe, cabai rawit, cabai merah, semuanya dihaluskan.  <br> - Sereh dimemarkan, daun bawang diiris tipis-tipis.  <br> - Bumbu yang telah dihaluskan ditumis hingga harum, lalu tambahkan sereh dan daun bawang.  <br> - Setelah bumbunya agak matang, tambahkan ikan cakalang yang sudah disuwir, aduk hingga rata dan masak hingga kering. <br> - Angkat.</p> ',
       4 : '<p align="center"><strong><span style="color: black;">Coto Makassar</span></strong></p><p align="center"><strong><span style="color: black;">Asal: Makassar</span></strong></p><p align="left"> <p align="left" style="color: black;">Bahan : <br> - 1 kg daging sapi  <br> - 5 batang serai  <br> - 2000 ml air cucian beras putih  <br> - 5 lembar daun salam  <br> - 3 sendok makan minyak goreng  <br> - 250 gr kacang tanah  <br> - 5 cm jahe  <br> - 1 ruas lengkuas <br> - Bawang merah goreng  <br> - Seledri yang sudah diiris  <br> - Daun bawang yang sudah diiris. <br> Cara Pengolahan : <br> Mencuci daging sapi yang sudah anda siapkan.  <br> - Memarkan batang serai.  <br> - Goreng kacang tanah, lalu tumbuk dan haluskan.  <br> - Memarkan jahe dan lengkuas.  <br> -Haluskan semua bumbu tersebut diatas, untuk mendapatkan hasil yang lebih halus, anda dapat menghaluskan bumbu dengan menggunakan blender. <br> - Rebus daging dan jeroan sampai empuk. <br> - Angkat dan sisihkan kaldunya. <br> - Tumis semua bumbu sampai harum, masukkan daging dan jeroan, aduk rata. <br> - Masukkan kaldu sapi dan masak sampai bumbu-bumbu meresap. <br> - Sesaat sebelum diangkat, tambahkan kacang tanah goreng yang telah dihaluskan. <br> - Siapkan pinggan saji, atur semua bahan isi di dalamnya. <br> - Tuangkan kuah kaldu panas dan taburi daun bawang, bawang goreng dan seledri cincang. <br> - Hidangkan dengan dilengkapi sambal pelengkap. <br> - Sambal: campur semua bahan sambal dan aduk rata, hidangkan terpisah sebagai pelengkap, untuk 4 porsi.</p> ',
       5 : '<p align="center"><strong><span style="color: black;">Deppa Tori </span></strong></p><p align="center"><strong><span style="color: black;">Asal : Enrekang </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> -5 liter tepung beras.<br> - 2 liter gula merah/aren, haluskan. <br> -½ gelas air. <br> -Wijen secukupnya. <br>Cara Pengolahan : <br> - Panaskan kuali, masukkan air setengah gelas dan gula merah halus. Biarkan hingga gula tercampur merata dan mencair. <br> - Masukkan tepung beras sedikit demi sedikit, aduk terus sampai tercampur merata. <br> - Masak terus adonan sampai mengental lalu didinginkan. Adonan dianggap telah masak bila dipukul-pukul dengan jari tangan maka adonan tidak lengket di jari tangan.<br>- Ratakan adonan dengan lebar sekitar 15 – 20 cm dengan tebal sekitar 0,5 cm. Cara meratakannya adalah dengan meletakkan adonan di atas plastik yang telah dilumuri minyak goreng, kemudian dengan menggunakan pipa Paralon ukuran 2 inci ditekan sambil didorong berputar kemudian ditaburi wijen secukupnya. Kemudian adonan yang telah rata dipotong-potong dengan bentuk khas Deppa Te’tekan yaitu bentuk jajaran genjang.<br>- Goreng adonan yang telah dicetak dalam kuali yang berisi minyak panas. Goreng sampai matang dan mengembang. Tiriskan dan sajikan.</p> ',
       6 : '<p align="center"><strong><span style="color: black;">Jagung Marning </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Bulukumba </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - 1 kg jagung berkualitas bagus<br> - 2 sendok makan garam<br> - 15 gr kapur sirih<br> - Air secukupnya<br> - Minyak goreng secukupnya<br> - Bumbu yang dihaluskan :<br> - 5 butir bawang merah<br> - 5 siung bawang putih<br> - 2 cm jah<br> - ½ sendok teh merica<br> - 2 sendok makan ebi, seduh.<br> - Garam secukupnya.<br> - Cara Pengolahan :<br> - Cuci bersih jagung, tiriskan sebentar.<br> - Rebus jagung bersama 3 liter air. Tambahkan kapur sirih dan garam. Aduk rata. Rebus hingga mendidih.<br> - Kecilkan api. Rebus selama 3-4 jam hingga jagung lunak, mekar, dan kulitnya terlepas. Angkat, tiriskan.<br> - Jemur hingga agak mengering.<br> - Campur jagung yang sudah dijemur dengan bumbu yang sudah dihaluskan. Aduk hingga benar-benar tercampur rata. Jemur kembali hingga kering. Angkat.<br> - Panaskan minyak. Goreng jagung hingga mekar dan berwarna kuning. Angkat, tiriskan.<br> - Masukan marning jagung pada toples agar tetap terjaga kerenyahannya.</p> ',
       7 : '<p align="center"><strong><span style="color: black;"> Kapurung </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Palopo </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - 200 gr tepung sagu asli yang baru diambil dari pohonnya (tepung sagu di beli di pasar)  <br> - Seikat daun kacang muda, buang serat tengahnya  <br> - Seikat kacang panjang, potong 3 cm  100 gr jagung manis  <br> - 500 gr fillet ikan tuna segar  <br> - 5 buah jeruk limau, ambil airnya  <br> - Air dan garam secukupnya <br> - Bumbu sambal :  2 sendok makan bubuk cabai merah  2 buah tomat  Garam dan gula secukupnya  2 buah jeruk limau, peras ambil airnya  Ulek cabai, tomat, garam lalu aduk rata dengan air perasan limau. <br> Cara Pengolahan : <br> - Campur tepung sagu dengan air panas hingga encer, masukkan garam secukupnya.  <br> - Didihkan sambil terus diaduk hingga masak.  <br> - Tambahkan air lagi jika perlu. <br> - Siapkan baskom yang diisi dengan air masak secukupnya (supaya tidak lengket).  <br> - Saat masih panas, gunakan 2 sendok untuk mengambil kanji yang sudah masak segera masukkan ke dalam baskom yang sudah diberi air. Lakukan hingga adonan habis. <br> - Setelah dicuci bersih, rebus daun kacang panjang hingga masak, dengan air kira-kira 1 liter.  <br> - Setelah masak masukkan kacang panjang dan jagung manis.  <br> - Lalu masukkan fillet tuna segar, aduk hingga semuanya masak.  <br> - Masukkan perasan air jeruk limau dan garam secukupnya. <br> - Aduk hingga semuanya masak.  <br> - Setelah sayuran masak, tuang ke dalam baskom yang berisi adonan tepung sagu tadi, aduk rata. <br> - Siap dihidangkan saat masih panas. <br> - Letakkan sambal di atasnya. </p> ',
       8 : '<p align="center"><strong><span style="color: black;">Kasuami </span></strong></p><p align="center"><strong><span style="color: black;">Asal : Wakatobi </span></strong></p><p align="left"> <p align="left" style="color: black;">Bahan : <br> Ubi kayu <br> Cara Pengolahan : <br> - Kupas kulit ubi kayu lalu dicuci hingga bersih, kemudian di parut atau digiling dengan mesin parutan layaknya memarut kelapa.  <br> - Bungkus hasil gilingan dengan menggunakan kain atau karung yang bersih agar produk parutan tetap higienis.  <br> - Lakukan penindisan untuk mengurangi serta meniadakan kadar air ubi kayu. <br> - Biarkan selama 1 – 3 jam hingga air benar-benar kering.  <br> - Hancurkan produk menggunakan tangan dengan cara mengelus-elusnya. <br> - Saringlah ubi kayu menggunakan saringan dari anyaman bambu dengan ukuran kira-kira 0,3 cm, hal ini bertujuan untuk mempercepat proses pemasakan kasaomi.  <br> - Masukkan ke dalam kulit kukusan berbentuk kerucut yang terbuat dari anyaman daun kelapa. <br> - Lalu masukkan ke dalam periuk kukusan untuk dikukus.  <br> - Tunggu hingga partikel-partikel produk tersebut menyatu dan terasa kental jika ditusuk yang menandakan kalau kasaomi telah matang dan siap di hidangkan.</p> ',
       9 : '<p align="center"><strong><span style="color: black;">Konro </span></strong></p><p align="center"><strong><span style="color: black;">Asal : Makassar</span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan:<br>- Iga sapi 1,5 kg (bisa dicampur dengan tulang dan daging sapi), potong-potong sesuai selera <br>- Air 2 liter (digunakan untuk merebus dan membuat kuah kaldu) <br> Bumbu yang dihaluskan:<br>- Keluwak 2 butir <br>- Merica butiran 2 sendok teh <br>- Kemiri 5 butir (disangrai) <br>- Pala ½ butir <br>- Ketumbar 1 sendok makan (disangrai) <br>- Kunyit 1 ruas (dibakar) <br>- Bawang merah 8 butir <br>- Bawang putih 5 siung <br> - Serai 2 batang (ambil bagian putihnya) <br>- Jahe 2 ruas <br>- Jintan ¼ sendok teh <br>- Minyak untuk menumis<br> Bumbu lainnya untuk Sop Konro: <br>- Air asam jawa 100 ml <br>- Lengkuas 2 ruas (pipihkan)<br>- Daun salam 5 lembar <br>- Kaldu bubuk 1 sendok teh <br>- Garam 1 sendok makan <br>- Gula pasir 1 sendok makan <br>- Bawang merah 5 butir (iris tipis-tipis) <br>- Bawang goreng secukupnya (digunakan untuk taburan) <br>- Cengkeh 5 butir <br>- Kapulahga 3 butir <br>- Kayu manis 3 batang <br>- Daun bawang 2 batang (rajang halus)<br> Cara Pengolahan : <br> -Siapkan panci, masukkan 2 liter air rebus hingga mendidih. Masukkan potongan iga hingga melunak, buang kotoran yang mengapung di permukaan air, bila air dirasa berkurang dan iga belum empuk, tambahkan air panas dan rebus hingga iga benar-benar menjadi empuk. Tambahkan air agar mendapatkan 2 liter air kaldu sebagai kuah sop konro nanti. Sisihkan. <br> -Tumis bumbu halus hingga tercium aroma wangi sedap dan matang. Masukkan daun salam, lengkuas dan bawang merah iris. Aduk-aduk dan tumis hingga daun salam menjadi layu. <br> -Tuangkan tumisan bumbu ke dalam rebusan iga, masukkan kayu manis, cengkeh, kapulaga, kaldu bubuk, garam, gula dan air asam jawa. Rebus hingga kuah menjadi mendidih, cicipi rasanya, masukkan daun bawang, aduk dan masak sebentar. Angkat. <br> - Sop Konro yang enak dan gurih siap disajikan selagi hangat bersama bawang merah goreng di atasnya.</p> ',
       10 : '<p align="center"><strong><span style="color: black;"> Kue Tetu </span></strong></p><p align="center"><strong><span style="color: black;">Asal : Sulawesi Barat</span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan:<br>- 500 ml santan kental<br>- 200 gr tepung terigu<br>- air secukupnya untuk tambahan adonan<br>- 2 sdm tepung beras<br>- 1 sdt garam<br>- 2 sdm gula pasir<br>- 5 sdm gula merah atau secukupnya<br>- daun pandan besar atau daun pisang secukupnya<br> Cara Membuat : <br> -Daun pisang atau pandan besar dibentuk seperti mangkuk memanjang. Staples ujung-ujungnya. Karena bentuknya persegi panjang, seringkali kue tetu disebut juga kue perahu.<br> - Sirir gula merah, campurkan dengan gula pasir dan masukkan ke dalam setiap mangkuk daun secukupnya.<br>  Panaskan kukusan, masukkan mangkuk daun berisi gula ke dalam kukusan. Kukus selama 5 menit.<br> - Campurkan santan dengan garam, tepung terigu dan beras. Aduk rata. Teksturnya tidak terlalu cair maupun terlalu kental ya.<br> -Tuang ke dalam mangkuk-mangkuk secara merata. Jika suka, bisa juga ditambahkan toping potongan buah nangka.  Kukus lagi selama 10-15 menit atau hingga adonan mengeras putih. Dinginkan dan angkat.<br> - Kue tetu siap dinikmati. Lapis atasnya gurih sedangkan bawahnya manis, keduanya akan menyatu dan nikmat di mulut. </p> ',
       11 : '<p align="center"><strong><span style="color: black;"> Lalampa</span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Sulawesi Tengah </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan :<br> - 1 kg beras ketan putih, cuci<br> - 3 lembar daun pandan, potong-potong<br> - 2 sdt garam<br> - 500-600 ml santan Isian<br> - 500 g daging ikan tongkol asap, suwir halus<br> - 3 lembar daun jeruk purut, iris halus<br> - 1 lembar daun kunyit, iris halus<br> - 1 lembar daun pandan muda, iris halus<br> - 30 helai daun kemangi<br> - 500 ml santan<br> - 4 sdm minyak sayur untuk menumis<br> - daun pisang<br> Haluskan : <br> - 7 buah cabai merah keriting<br> - 10 buah cabai rawit merah<br> - 4 butir kemiri<br> - 5 butir bawang merah<br> -5 siung bawang putih<br> - 2 batang serai, ambil bagian yang putih, iris halus<br> - 2 sdt garam<br> Cara Membuat Lalampa Khas Manado:<br> - Rendam ketan dalam air dingin selama 1 jam. Tiriskan.<br> - Kukus ketan bersama daun pandan hingga setengah matang. Angkat.<br> - Didihkan santan dengan garam lalu angkat.<br> - Tuangkan santan mendidih ke dalam ketan kukus, aduk sampai santan habis terhisap ketan.<br> Kukus ketan kembali selama 30 menit dalam kukusan panas hingga matang. Angkat.<br> Isian:<br> - Tumis bumbu halus hingga wangi.<br>- Masukkan ikan tongkol dan bahan lainnya. Aduk hingga rata.<br> - Tuangi santan,masak hingga benar-benar kering. Angkat.<br> - Ambil selembar daun pisang.<br> - Beri 2 sendok makan penuh ketan, ratakan.<br> - Taruh 1 sdm adonan isi di tengahnya.<br> - Gulung hingga padat dan rapi, semat kedua ujungnya dengan lidi.<br> - Panaskan wajan datar olesi sedikit minyak.<br> - Masak bungkusan ketan hingga daun pisangnya mengering dan aromanya wangi.<br> - Angkat. Sajikan.</p> ',
       12 : '<p align="center"><strong><span style="color: black;">Lapa-Lapa </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Buton </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : -Beras 1 kg <br> -Kelapa 2 buah, parut halus dan peras untuk diambil santannya<br> -Garam halus ½ sendok makan <br> -Daun bale (janur/daun kelapa muda) secukupnya <br> -Tali, dari pelepah pohon pisang (tali rapiah), secukupnya <br> Cara Pengolahan : <br>-Beras dicuci sampai bersih, kemudian dimasak dengan santan kelapadan campuran garam secukupnya<br> -Angkat beras yang sudah menjadi nasi aron, kemudian tuangkan secukupnya pada daun janur (daun kelapa muda), dan bungkus dengan bentuk memanjang. Padatkan isiannya dan gulung rapih.<br> -Supaya bungkusannya tidak terbuka, silahkan ikan bungkusan dengan tali dari pelepah pohon pisang (tali rapiah) yang sudah disiapkan sebelumnya.<br> -Setelah itu masukkan bungkusan daun janur tadi, yang berisi nasi aron ke dalam wadah perebusan hingga matang. Proses ini dapat memakan waktu hingga 90 menit.<br> - Setelah dirasa matang dan isi dalam bungkusan daun janur menjadi \lapa-lapa, angkat dan tiriskan.<br> -Lapa-lapa siap disajikan.</p> ',
       13 : '<p align="center"><strong><span style="color: black;"> Lawa Bale </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Palopo </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - 50 gr ikan mairo (teri basah, mentah)  <br> - 50 gr jantung pisang (bagian yang putih – kuning di tengah)  <br> - 4 sendok makan kelapa parut sangrai <br> - 2 buah cabai merah  <br> - 1 limau kasturi atau jeruk nipis/purut  <br> - Garam secukupnya. <br> Cara Pengolahan : <br> - Haluskan cabai merah dengan garam, campurkan dengan kelapa parut sangrai  <br> - Iris halus jantung pisang, rendam dalam air garam agar getah keluar  <br> - Campurkan irisan jantung pisang, ikan mairo, dan kelapa parut sangrai yang sudah dibumbui  <br> - Peras limau kasturi (atau jeruk nipis/purut) di atas sajian.  <br> - Lawa biasanya disajikan dengan ruji atau dange, yaitu sagu bakar yang bentuknya lempengan tipis.</p> ',
       14 : '<p align="center"><strong><span style="color: black;">Mie Titi</span></strong></p><p align="center"><strong><span style="color: black;">Asal: Makassar </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - Mi kering 3 genggam, seduh air panas lalu tiriskan. <br> - Dada ayam 2 buah, potong dalam bentuk dadu. <br> - Bakso 5 butir, potong-potong.<br> - Udang 10 ekor.<br> - Telur 2 butir, kocok lepas.<br> - Sawi hijau 3 ikat, potong-potong.<br>  - Bawang putih 3 siung, haluskan.<br> - Maizena 3 sendok makan, larutkan dengan sedikit air.<br> - Garam ½ sendok teh.<br> - Penyedap rasa ¼ sendok teh (opsional).<br> - Air 300 ml, dan minyak goreng secukupnya. <br> Cara Pengolahan : <br> - Panaskan minyak. Goreng mi hingga berubah kecoklatan, angkat dan tiriskan. Sisihkan. <br> -Rebus dada ayam hingga setengah matang. Angkat dan tiriskan.Setelah dingin, potong daging ayam berbentuk daduh. Sisihkan. <br>- Panaskan 2 sendok makan minyak. Tumis bawang putih hingga harum. <br>- Masukkan daging ayam, bakso, udang dan air. Aduk dan masak hingga mendidih. <br>- Masukkan sawi hijau dan kocokan telur. Aduk rata. <br> - Bumbui dengan garam dan penyedap rasa. Aduk rata dan biarkan mendidih. Koreksi rasanya. <br> - Tuang larutan maizena. Aduk cepat hingga kuah meletup-letup. Matikan api. <br> - Tata mi kering di atas piring saji. Tuangi dengan kuah. Siap disajikan. </p> ',
       15 : '<p align="center"><strong><span style="color: black;">Nasu Palekko </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Pinrang </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : - 1 ekor itik muda <br> - 1 genggam asam mangga (boleh diganti dengan air asam jawa 200 ml) <br> - 1 sendok teh kunyit bubuk <br> - Minyak goreng secukupnya ( untuk menumis) <br> - 10 siung bawang merah <br> - 2 siung bawang putih <br> -30 biji cabe rawit atau sesuai selera pedas. Dihaluskan <br> - 1 bungkus kecil merica bubuk <br> - 1 bungkus kecil penyedap rasa (Royco Ayam) <br> - 3 gelas air <br> - Garam secukupnya. <br> Cara Pengelolaan : <br> - Ambil itik muda yang sudah dipotong-potong, cuci bersih berulang-ulang dan taruh dalam wadah bersih. Lumuri dengan asam mangga. Diamkan itik selama sekitar 10 menit agar meresap. <br> - Blender/haluskan bawang merah dan bawang putih. Siapkan wajan dan panaskan minyak goreng. Tumis bumbu halus. Tambahkan air sedikit. <br> - Masukkan itik yang sudah dilumuri asam mangga ke dalam wajan (jangan ambil air sisa lumuran), aduk rata dengan bumbu. <br> - Tambahkan air setara dengan itik, beri penyedap rasa, kunyit bubuk, merica bubuk, cabe rawit halus, dan garam (jika masih mau asin). Aduk rata. <br> - Masak hingga air menyusut, jika daging itik masih alot tambahkan air lagi dan masak hingga menyusut dan tersisa sedikit kuah kental. (Tidak perlu tambah bumbu). Jika telah matang, matikan api. <br> -Sajikan dengan nasi hangat dan potongan jeruk nipis. <br> -Catatan: Di resep ini, saya sengaja pisahkan cabe rawitnya karena anak2 saya juga sangat doyan. Nanti mau makan baru ditambah cabe rawit halus. Bukan Nasu Palekko jika tidak pedas.</p> ',
       16 : '<p align="center"><strong><span style="color: black;">Pa_piong </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Toraja </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br> - Dada ayam, rebus, suwir  Kepala tua, parut  <br> - Cabe rawit, iris tipis  <br> - Nangka muda, potong dadu  <br> - Bawang merah, iris tipis  <br> - Bawang putih, cincang halus <br> - Garam dan gula secukupnya  <br> - Jahe, iris tipis  <br> - Batang pisang paling muda <br> - 1 lembar daun pisang  <br> - 1 batang mambu sedang, bersihkan. <br> Cara Pengolahan : <br> - Lumuri potongan daging ayam dengan air jeruk nipis, diamkan 15 menit, bilas, sisihkan. <br> - Iris-iris batang pisang kira-kira setebal 1/2 cm, remas-remas atau ulek kasar. <br> - Campur potongan ayam, bumbu halus dan batang pisang juga potongan nangka. <br> - Tambahkan kelapa parut, daun jeruk, cabai rawit utuh, aduk rata. <br> - Beri air, tutup lalu panaskan hingga ayam matang dan air menyusut. <br> - Beri garam, aduk rata, cicipi rasanya. <br> - Sebelum diangkat, masukkan daun kemangi, masak sebentar hingga kemangi sedikit layu. <br> - Letakkan bahan yang telah tercampur di atas daun pisang. <br> - Bungkus dengan cara digulung hingga menyerupai lontong. <br> - Masukkan ke dalam bambu. Panggang dalam oven panas bersuhu 240 C (60 menit). <br> - Angkat, keluarkan dari bambu. Sajikan panas disertai nasi.</p> ',
       17 : '<p align="center"><strong><span style="color: black;"> Panada </span></strong></p><p align="center"><strong><span style="color: black;">Asal : Sulawesi  Utara </span></strong></p><p align="left"> <p align="left" style="color: black;">Bahan : <br> - 250 gram tepung<br> - 100 gram tepung serbaguna<br> - 1 sendok makan ragi<br> - 1 sendok makan gula<br> - 1 sendok teh garam, larutkan dengan 125 ml air hangat<br> - 1 butir telur<br> - 1 sendok makan margarin<br> - 50 ml minyak<br> - Isian panada : <br> - 1 ekor ikan tuna tenggiri, bersihkan dan cincang<br> - 4 batang daun kemangi<br> - 1 lembar daun pandan, iris tipis<br> - 1 lembar daun jeruk purut, iris tipis<br> - 2 buah cabai merah, potong-potong<br> - 200 ml santan<br> - Gula<br> - Garam<br> - 2 buah tomat, potong-potong<br> - Bumbu halus : <br> - 5 butir bawang merah<br> - 3 siung bawang putih<br> - 2 butir kemiri, sangrai<br> - 1 cm jahe, parut<br> - Cara Pengolahan : <br> - Balur ikan yang sudah dibersihkan dengan garam. Rebus air dan daun salam. Masukkan ikan, didihkan ikan sampai matang. Sisihkan.<br> - Untuk membuat bumbu halus, masukkan semua bahan mangkuk kecil pengolah makanan. Tumbuk atau hancurkan hingga menjadi pasta.<br> - Panaskan minyak, tumis bumbu halus hingga harum. Tambahkan semua bahan pengisi, kecuali tomat dan santan, aduk rata. Tuangi santan, aduk hingga santan berkurang. Tambahkan tomat, aduk rata. Angkat, sisihkan.<br> - Campurkan semua bahan kering untuk adonan kulit. Tambahkan telur dan garam, aduk. Tambahkan margarin, aduk. Diamkan selama 30 menit.<br> - Kempiskan adonan dan bagi adonan dengan berat 40 gram.<br> - Ratakan adonan, taruh 2 sendok makan isian di tengahnya. Lalu lipat membentuk setengah lingkaran, dan tutup pinggirannya<br> - Panaskan minyak dalam wajan, goreng hingga berwarna cokelat keemasan dan matang. Angkat dan sajikan.</p> ',
       18 : '<p align="center"><strong><span style="color: black;"> Pisang Ijo</span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Makassar </span></strong></p><p align="left"> <p align="left" style="color: black;"> -Bahan utama adalah pisang raja kuning ukuran sedang ± 15 buah. Pilih yang sudah matang. <br> Tepung terigu yang sudah di ayak halus ± 200 gr saja. <br>- Santan kental dari perasan 1 buah kelapa ± sebanyak 600 ml. Bisa juga diganti dengan santan instan 100 ml ditambah dengan air sampai 500 ml. <br>- Tepung beras ± sebanyak 200 gr. <br>- Gula pasir secukupnya atau ± sebanyak 50 gr saja. <br>- Pewarna alami ± sebanyak ½ liter. <br>Bahan Tambahan : <br>- Daun pandan segar yang sudah dicuci bersih secukupnya (pewarna hijau). <br>- Daun suji yang sudah dicuci bersih secukupnya (pewarna hijau). <br>- Air bersih secukupnya untuk membuat pewarna alami (pewarna hijau). <br>- Daun pisang secukupnya untuk membungkus pisang ijo-nya. <br>- Plastik wirap untuk alas untuk membentuk adonan kulit pisang ijo-nya. <br>- Minyak sedikit untuk mengolesi alas tempat membuat adonan. <br> Cara Pengolahan : <br> -Pertama kukus pisangnya sampai matang. Untuk pisang raja kuning yang sudah matang bisa dikukus sebentar. <br>- Potong dan iris daun suji dan daun pandannya kemudian masukkan ke dalam blender. Tuang air bersih secukupnya kemudian blender sampai halus. <br>- Saring air blenderan tadi dan ambil air pewarnanya ± sebanyak ½ liter. <br>- Siapkan wadah untuk membuat adonan kulit pisang ijo-nya. Tuang tepung terigu, tepung beras, pewarna alami dan santan kentalnya. Aduk semua bahan sampai rata dan tidak ada gumpalan tepung.<br>- Saring adonan resep kulit pisang ijo tadi supaya benar-benar halus. Masukkan gula pasir kemudian aduk-aduk sampai benar-benar tercampur rata. <br>- Masukkan adonan kulit pisang hijau tadi ke dalam loyang kemudian kukus sampai matang. Kira-kira butuh waktu sekitar 18 – 22 menit.<br>- Keluarkan adonan kemudian aduk-aduk dan tekan (seperti menguleni adonan) hingga kalis. Proses mengaduk sebaiknya menggunakan sendok nasi plastik atau kayu karena masih panas. <br>- Alasi meja untuk membentuk adonan dengan plastik dan beri sedikit minyak supaya tidak lengket. <br>- Ambil adonan kukus tadi secukupnya, kemudian tekan-tekan sampai pipih dan tipis. Letakkan 1 pisang raja yang sudah dikukus matang kemudian angkat, lipat plastiknya dan bungkus dengan rapi. <br>- Ambil selembar daun pisang atau bisa juga menggunakan plastik. Letakkan pisang yang sudah dibungkus kulit tadi kemudian bungkus. Ulangi sampai habis pisang dan adonan resep kulit es pisang ijo-nya. <br>- Letakkan kembali ke loyang kemudian kukus kembali sampai matang atau kurang lebih selama ¼ jam saja. <br>- Setelah matang keluarkan dan dinginkan di udara bebas. Sambil menunggu kita buat saus vla buat kuah es pisang ijo-nya. <br>Bahan Saus Vla Kuah Pisang Ijo : <br> -Santan kental dari perasan parutan kelapa ± sebanyak ½ liter. <br>- Daun pandan segar yang sudah dicuci secukupnya. <br>- Tepung beras ± sebanyak 50 gr saja. <br>-Garam dapur beryodium secukupnya sesuai selera. <br>- Gula pasir secukupnya atau ± sebanyak 90 gr saja. <br>Cara Pengolahan Saus Es Pisang Ijo : <br>- Ambil panci masukkan kemudian masukkan santan, tepung beras, garam dapur, dan gula pasir. <br>- Masak semua bahan tadi sambil diaduk sampai tercampur rata dan tidak ada gumpalan. Setelah rata masukkan daun pandannya. <br>- Masak dengan api kecil sambil sesekali diaduk sampai matang.Tandanya saus vlanya sudah menyusut banyak dan timbul gelembung-gelembung kecil. <br> Bahan Pelengkap Resep Es Pisang Ijo : <br>- Sirup rasa pisang ambon atau jenis lainnya, secukupnya. <br>- Es batu secukupya sesuai selera. <br>- Susu kental manis secukupnya.</p> ',
       19 : '<p align="center"><strong><span style="color: black;"> klappertaart </span></strong></p><p align="center"><strong><span style="color: black;"> Asal : Manado </span></strong></p><p align="left"> <p align="left" style="color: black;"> Bahan : <br>  - 100 ml air kelapa <br>- 200 ml susu cair<br>-  5 butir kuning telur <br>- 1 butir putih telur<br>-  125 gram gula pasir<br>-  35 gram tepung maizena <br>-  40 gram tepung terigu<br>- 1 sdt ekstrak vanilla<br>-  50 gram mentega<br>-  2 butir kelapa muda, keruk dagingnya  Topping<br>-  3 butir putih telur <br>-  50 gram gula pasir<br>-  50 gram kismis <br>- 50 gram kenari kupas  <br>- 1/2 sdt kayu manis bubuk<br>​​Cara membuat klappertaart panggang <br> 1. Siapkan piring atau wadah tahan panas dan ramekin. Olesi ramekin dengan margarin. Sisihkan. <br>2. Campur susu, air kelapa, vanilla, dan maizena. Rebus dalam api kecil sambil diaduk hingga kental, angkat, masukkan mentega.  <br>3. Kocok kuning telur, putih telur, dan gula pasir hingga gula larut. Masukkan tepung terigu, kocok rata. Masukkan campuran susu dalam keadaan panas ke dalam adonan telur.  Kocok terus hingga tercampur rata.<br> 4. Masukkan kelapa muda, aduk rata. Tuang ke dalam ramekin. Letakkan ramekin di atas piring tahan panas yang sudah diberi air. Panggang dalam oven dengan suhu 170 derajat celcius selama 30 menit. Angkat.  <br>5. Topping: Kocok putih telur dan gula pasir hingga setengah kaku. Taruh di atas klappertaart, taburkan kismis, kenari, dan kayu manis bubuk. <br> 6. Panggang kembali selama 20-25 menit hingga permukaannya berwarna kecoklatan dan topping kaku. Angkat. <br> 7. Simpan di kulkas, lalu hidangkan dalam kondisi dingin.</p> ',
      }

model = load_model('skenario2.h5')

model.make_predict_function()

def predict_label(img_path):
    i = image.load_img(img_path, target_size=(224, 224))
    i = image.img_to_array(i) / 255.0
    i = i.reshape(1, 224, 224, 3)
    pred_probs = model.predict(i)
    pred_class = pred_probs.argmax(axis=-1)
    hasil = dic[pred_class[0]]
    return hasil





# routes
@app.route("/", methods=['GET', 'POST'])
def main():
	return render_template("classification.html")
@app.route("/submit", methods = ['GET', 'POST'])
def get_output():
    if request.method == 'POST':
        img = request.files['my_image']

        if img:
            img_path = "static/" + img.filename
            img.save(img_path)

            try:
                p = predict_label(img_path)
                print('tes', p)
                return render_template("classification.html", prediction=p, img_path=img_path)
            except Exception as e:
                error_message = f"Terjadi kesalahan: {str(e)}"
                return render_template("classification.html", error=error_message)
        else:
            error_message = "Tidak ada file gambar yang diberikan."
            return render_template("classification.html", error=error_message)

    # Jika metodenya adalah GET, kembalikan sesuatu yang sesuai (mungkin mengalihkan ke halaman utama)
    return render_template("classification.html")

if __name__ =='__main__':
	#app.debug = True
	app.run(debug = True)